<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>日本のマナー・文化クイズ</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css/manners_game.css">
</head>
<body>

<header>
    <div style="font-weight:900;"><i class="fa-solid fa-user-check"></i> 日本のマナー</div>
    <a href="index.html" class="home-link">ホームへ</a>
</header>

<div id="main-container">

    <div id="screen-learning" class="screen active">
        <h2 style="text-align:center; color:#2e7d32; margin-bottom:20px;">知っておきたい日本の習慣</h2>
        <div id="learning-content"></div>
        <div style="height: 60px;"></div> </div>

    <div id="screen-select" class="screen">
        <h2 style="text-align:center; color:#2e7d32;">クイズのジャンルを選ぼう</h2>
        <div class="cat-select-grid" id="cat-grid"></div>
        <button onclick="showScreen('screen-learning')" style="margin-top:30px; background:none; border:2px solid #ccc; padding:10px; border-radius:20px; color:#777; width:100%; cursor:pointer; font-weight:bold;">練習に戻る</button>
    </div>

    <div id="screen-quiz" class="screen">
        <div style="display:flex; justify-content:space-between; align-items:center;">
            <span id="quiz-cat-name" style="font-weight:bold; color:var(--primary);">カテゴリ</span>
            <span id="quiz-progress" style="font-size:0.9em; color:#666;">1/5</span>
        </div>
        
        <div class="quiz-box">
            <div id="quiz-question" class="question-text">ここに問題が表示されます</div>
            <div class="options-grid" id="quiz-options"></div>
        </div>

        <button onclick="quitGame()" style="margin-top:30px; background:#eceff1; color:#555; border:none; padding:10px 20px; border-radius:20px; width:100%;">やめる</button>
    </div>

</div>

<button id="start-game-btn" class="fixed-bottom-btn" onclick="showScreen('screen-select')">
    <i class="fa-solid fa-gamepad"></i> ゲームに挑戦！
</button>

<div id="feedback-modal" class="feedback-overlay">
    <div class="feedback-box">
        <div id="fb-icon" class="fb-icon"></div>
        <div id="fb-text" style="font-size:1.8em; font-weight:bold; margin-bottom:10px;"></div>
        <div id="fb-detail" style="font-size:1.0em; color:#555; margin-bottom:10px; line-height:1.4;"></div>
        
        <button id="fb-next-btn" class="fb-action-btn" onclick="nextQuestion()">次へ</button>
    </div>
</div>

<script type="module" src="js/firebase-config.js"></script>

<script src="js/manners_game.js"></script>

</body>
</html>