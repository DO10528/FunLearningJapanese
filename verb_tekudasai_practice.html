<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>V-てください れんしゅうひょう</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@500;700;900&display=swap" rel="stylesheet">
    
    <style>
        /* --- 共通設定 (V2デザイン - 動詞テーマ) --- */
        :root {
            --primary: #ab47bc; /* 動詞カテゴリの紫 */
            --primary-light: #d1c4e9;
            --primary-dark: #8e24aa;
            --accent: #ffcc5c; /* 黄色 */
            --bg-color: #f8f1f9;
            --text-color: #333;
            --card-bg: #ffffff;
            --request-color: #42a5f5; /* お願い（青） */
            --instruction-color: #66bb6a; /* 指示（緑） */
        }

        body {
            font-family: 'Zen Maru Gothic', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0; padding: 0;
            min-height: 100vh;
        }

        /* --- ヘッダー --- */
        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white; padding: 15px 20px;
            box-shadow: 0 4px 15px rgba(171, 71, 188, 0.3);
            display: flex; justify-content: space-between; align-items: center;
            position: sticky; top: 0; z-index: 100;
        }
        .home-link {
            background: rgba(255,255,255,0.2); color: white;
            padding: 8px 15px; border-radius: 20px;
            transition: background 0.2s;
        }
        .home-link:hover { background: rgba(255,255,255,0.4); }

        .container {
            max-width: 1200px; margin: 0 auto; padding: 20px;
        }

        h1 {
            text-align: center; color: var(--primary-dark);
            margin-bottom: 30px; font-size: 1.8em;
        }
        
        .mode-title {
            font-size: 1.6em;
            font-weight: 900;
            margin-top: 40px;
            margin-bottom: 15px;
            padding: 10px 20px;
            border-bottom: 4px solid;
            display: inline-block;
        }
        #request-title { border-color: var(--request-color); color: var(--request-color); }
        #instruction-title { border-color: var(--instruction-color); color: var(--instruction-color); }


        /* --- 練習カードグリッド --- */
        .practice-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
        }

        .verb-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px 60px 20px 20px; 
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            border-left: 6px solid;
            transition: transform 0.2s;
            position: relative;
        }
        .verb-card:hover { transform: translateY(-3px); box-shadow: 0 8px 20px rgba(0,0,0,0.1); }

        /* カード内容 */
        .verb-forms { 
            display: flex; 
            align-items: center; 
            gap: 15px; 
            margin-bottom: 10px; 
            justify-content: space-between;
        }
        
        .masu-box {
            background: var(--primary-light);
            padding: 10px 15px;
            border-radius: 8px;
            color: var(--primary-dark);
            font-weight: 900;
            font-size: 1.3em;
            flex-shrink: 0;
            text-align: center;
        }
        .tekudasai-box {
            flex-grow: 1;
            font-size: 1.6em;
            font-weight: 900;
            color: #333;
            border-bottom: 2px solid #eee;
            padding-bottom: 5px;
            text-align: center;
            max-width: 60%; 
        }
        
        .simple-meaning {
            font-size: 0.9em;
            color: #777;
            margin-top: 10px;
            border-top: 1px dashed #eee;
            padding-top: 10px;
        }
        .english-meaning {
            font-size: 1.1em;
            color: #007bff;
            font-weight: bold;
        }

        /* 音声ボタン */
        .sound-btn {
            background: var(--accent);
            color: white; border: none;
            width: 35px; height: 35px;
            border-radius: 50%;
            cursor: pointer;
            display: flex; justify-content: center; align-items: center;
            font-size: 1em;
            box-shadow: 0 3px 0 #ffb300;
            transition: all 0.1s;
            position: absolute; top: 15px; right: 15px; 
        }
        .sound-btn:active { transform: translateY(3px); box-shadow: none; }
        
        /* ゲーム開始ボタン */
        .start-game-area {
            text-align: center;
            margin: 50px 0;
        }
        #start-game-btn {
            /* ★修正: ボタンデザインを大幅に変更して目立たせる */
            background: var(--primary-dark); /* 濃い紫 */
            color: white;
            border: 4px solid var(--accent); /* 黄色の枠線 */
            padding: 18px 45px;
            font-size: 1.6em; /* サイズアップ */
            font-weight: 900;
            border-radius: 12px;
            box-shadow: 0 6px 0 var(--primary); /* 影を紫に */
            cursor: pointer;
            transition: transform 0.1s;
            text-transform: uppercase;
        }
        #start-game-btn:active { 
            transform: translateY(6px); 
            box-shadow: none; 
        }

        /* ルビのスタイル */
        .ruby-text { font-size: 0.7em; }
    </style>
</head>
<body>

    <header>
        <a href="verb_tekudasai_practice.html" style="font-size: 1.4em; font-weight: 900; color: white; text-decoration: none;">
            <i class="fa-solid fa-list-check"></i> V-てください れんしゅう
        </a>
        <a href="index.html" class="home-link"><i class="fa-solid fa-house"></i> ホーム</a>
    </header>

    <div class="container">
        <h1>V-てください：つかいかたと、かたち</h1>
        
        <div class="start-game-area">
            <button id="start-game-btn" onclick="window.location.href='verb_tekudasai_puzzle_master.html'">
                パズルゲームをはじめる <i class="fa-solid fa-gamepad"></i>
            </button>
            <p style="color:#777; margin-top:10px;">（かたちと つかいかたを おぼえたら、ゲームに すすもう！）</p>
        </div>
        

        <h2 id="request-title" class="mode-title">おねがい（たのみごと）の V-てください</h2>
        <div class="practice-grid" id="request-list">
            </div>

        <h2 id="instruction-title" class="mode-title">しじ・すすめ（やってね、どうぞ）の V-てください</h2>
        <div class="practice-grid" id="instruction-list">
            </div>
    </div>

    <script>
        // --- データ定義 (30+30=60項目) ---
        const practiceData = [
            // ========== お願い（依頼）(30項目) ==========
            { type: 'request', masu: 'かします', te: 'かして', meaning: 'Lend', context: 'えんぴつを かして ほしいとき。' },
            { type: 'request', masu: 'てつだいます', te: 'てつだって', meaning: 'Help', context: 'おもい にもつを はこぶとき。' },
            { type: 'request', masu: 'おしえます', te: 'おしえて', meaning: 'Tell/Show', context: 'みちや でんわばんごうを ききたいとき。' },
            { type: 'request', masu: 'あけます', te: 'あけて', meaning: 'Open', context: 'まどや ドアを あけて ほしいとき。' },
            { type: 'request', masu: 'しめます', te: 'しめて', meaning: 'Close', context: 'まどや ドアを しめて ほしいとき。' },
            { type: 'request', masu: 'まちます', te: 'まって', meaning: 'Wait', context: 'すこし まって ほしいとき。' },
            { type: 'request', masu: 'とめます', te: 'とめて', meaning: 'Stop', context: 'あぶないので くるまを とめて ほしいとき。' },
            { type: 'request', masu: 'みせます', te: 'みせて', meaning: 'Show', context: 'あいての ノートを みたいとき。' },
            { type: 'request', masu: 'とります', te: 'とって', meaning: 'Take/Pass', context: 'たかい ところの ほを とって ほしいとき。' },
            { type: 'request', masu: 'いいます', te: 'いって', meaning: 'Say/Tell', context: 'なまえを もういちど ききたいとき。' },
            { type: 'request', masu: 'かきます', te: 'かいて', meaning: 'Write', context: 'メモを かいて ほしいとき。' },
            { type: 'request', masu: 'つかいます', te: 'つかって', meaning: 'Use', context: 'あいての どうぐを つかわせて ほしいとき。' },
            { type: 'request', masu: 'かります', te: 'かりて', meaning: 'Borrow', context: 'ほんを いちじてきに かりたいとき。' },
            { type: 'request', masu: 'なおします', te: 'なおして', meaning: 'Fix', context: 'こわれた ものを しゅうり して ほしいとき。' },
            { type: 'request', masu: 'わすれます', te: 'わすれて', meaning: 'Forget', context: 'いやな ことを きにしないで ほしいとき。' },
            { type: 'request', masu: 'つけます', te: 'つけて', meaning: 'Turn On', context: 'へやが くらいので でんきを つけて ほしいとき。' },
            { type: 'request', masu: 'けします', te: 'けして', meaning: 'Turn Off', context: 'でんきが あかるすぎるので けして ほしいとき。' },
            { type: 'request', masu: 'のぼります', te: 'のぼって', meaning: 'Climb', context: 'たかいところの ものを とるとき。' },
            { type: 'request', masu: 'おります', te: 'おりて', meaning: 'Come Down', context: 'たかいところから おりて ほしいとき。' },
            { type: 'request', masu: 'おくります', te: 'おくって', meaning: 'Send', context: 'にもつを おくって ほしいとき。' },
            { type: 'request', masu: 'はこびます', te: 'はこんで', meaning: 'Carry', context: 'おもい はこを はこんで ほしいとき。' },
            { type: 'request', masu: 'いれます', te: 'いれて', meaning: 'Put In', context: 'コーヒーに さとうを いれて ほしいとき。' },
            { type: 'request', masu: 'だします', te: 'だして', meaning: 'Take Out', context: 'ひきだしから かぎを だして ほしいとき。' },
            { type: 'request', masu: 'すわります', te: 'すわって', meaning: 'Sit', context: 'でんしゃで せきを つめて ほしいとき。' },
            { type: 'request', masu: 'たちます', te: 'たって', meaning: 'Stand Up', context: 'まえの ひとが じゃまな とき。' },
            { type: 'request', masu: 'あつめます', te: 'あつめて', meaning: 'Collect', context: 'おちた かみを あつめて ほしいとき。' },
            { type: 'request', masu: 'ならべます', te: 'ならべて', meaning: 'Line Up', context: 'いすを ならべて ほしいとき。' },
            { type: 'request', masu: 'ならびます', te: 'ならんで', meaning: 'Form a Line', context: 'れつに ならんで ほしいとき。' },
            { type: 'request', masu: 'まとめます', te: 'まとめて', meaning: 'Gather', context: 'ちらかった しょるいを まとめて ほしいとき。' },
            { type: 'request', masu: 'さわります', te: 'さわって', meaning: 'Touch', context: 'おちそうな ものを さわって ほしいとき。' },

            // ========== 指示・勧め（命令・提供）(30項目) ==========
            { type: 'instruction', masu: 'みます', te: 'みて', meaning: 'Look at', context: 'ホワイトボードを みるよう しじ する とき。' },
            { type: 'instruction', masu: 'ききます', te: 'きいて', meaning: 'Listen', context: 'せんせいが はなしを きくよう しじ する とき。' },
            { type: 'instruction', masu: 'よみます', te: 'よんで', meaning: 'Read', context: 'ほんを よむよう しじ する とき。' },
            { type: 'instruction', masu: 'かきます', te: 'かいて', meaning: 'Write', context: 'ノートに こたえを かくよう しじ する とき。' },
            { type: 'instruction', masu: 'すわります', te: 'すわって', meaning: 'Sit down', context: 'つかれた ひとに せきを すすめる とき。' },
            { type: 'instruction', masu: 'たちます', te: 'たって', meaning: 'Stand up', context: 'きりつ や あいてが じゃまな とき。' },
            { type: 'instruction', masu: 'はいります', te: 'はいって', meaning: 'Come in', context: 'へやに はいるよう すすめる とき。' },
            { type: 'instruction', masu: 'でます', te: 'でて', meaning: 'Go out', context: 'きょうしつから でるよう しじ する とき。' },
            { type: 'instruction', masu: 'たべます', te: 'たべて', meaning: 'Eat/Have', context: 'おかし や りょうりを すすめる とき。' },
            { type: 'instruction', masu: 'のみます', te: 'のんで', meaning: 'Drink/Have', context: 'おちゃ や のみものを すすめる とき。' },
            { type: 'instruction', masu: 'おぼえます', te: 'おぼえて', meaning: 'Memorize', context: 'たんご や かんじを きおく するよう しじ する とき。' },
            { type: 'instruction', masu: 'あけます', te: 'あけて', meaning: 'Open', context: 'ほんの あたらしい ページを あける とき。' },
            { type: 'instruction', masu: 'しめます', te: 'しめて', meaning: 'Close', context: 'ほんや じしょを とじるよう しじ する とき。' },
            { type: 'instruction', masu: 'わすれます', te: 'わすれて', meaning: 'Forget', context: 'いやな ことを すぐ わすれるよう すすめる とき。' },
            { type: 'instruction', masu: 'つかいます', te: 'つかって', meaning: 'Use', context: 'どうぐや きかいを つかうよう すすめる とき。' },
            { type: 'instruction', masu: 'いいます', te: 'いって', meaning: 'Say/Tell', context: 'なまえや じゅうしょを いうよう しじ する とき。' },
            { type: 'instruction', masu: 'やめます', te: 'やめて', meaning: 'Stop', context: 'わるい しゅうかんを とめるよう しじ する とき。' },
            { type: 'instruction', masu: 'でかけます', te: 'でかけて', meaning: 'Go out', context: 'そとへ あそびに いくよう すすめる とき。' },
            { type: 'instruction', masu: 'かえります', te: 'かえって', meaning: 'Go home', context: 'いえに かえるよう しじ する とき。' },
            { type: 'instruction', masu: 'かえします', te: 'かえして', context: 'かりた ほんを かえすよう しじ する とき。' },
            { type: 'instruction', masu: 'あげます', te: 'あげて', meaning: 'Raise/Lift', context: 'ものを たなにあげるよう しじ する とき。' },
            { type: 'instruction', masu: 'もらいます', te: 'もらって', meaning: 'Receive', context: 'プレゼントを うけとるよう すすめる とき。' },
            { type: 'instruction', masu: 'あそびます', te: 'あそんで', meaning: 'Play', context: 'しゅくだいが おわったら あそぶよう すすめる とき。' },
            { type: 'instruction', masu: 'およぎます', te: 'およいで', meaning: 'Swim', context: 'プールで およぐよう すすめる とき。' },
            { type: 'instruction', masu: 'あるきます', te: 'あるいて', meaning: 'Walk', context: 'けんこうの ために あるくよう すすめる とき。' },
            { type: 'instruction', masu: 'はしります', te: 'はしって', meaning: 'Run', context: 'はやく はしるよう しじ する とき。' },
            { type: 'instruction', masu: 'とびます', te: 'とんで', meaning: 'Jump', context: 'なわとびを するよう すすめる とき。' },
            { type: 'instruction', masu: 'すみます', te: 'すんで', meaning: 'Live', context: 'この まちに すむよう すすめる とき。' },
            { type: 'instruction', masu: 'つくります', te: 'つくって', meaning: 'Make/Create', context: 'もんだいを つくるよう しじ する とき。' },
            { type: 'instruction', masu: 'えらびます', te: 'えらんで', meaning: 'Choose', context: 'ただしい こたえを えらぶよう しじ する とき。' },
        ];

        
        // --- 共通機能：音声合成 ---
        const synth = window.speechSynthesis;
        let voices = [];
        setTimeout(() => { voices = synth.getVoices(); }, 500);

        window.speakPhrase = (teForm) => {
            if (synth.speaking) synth.cancel();
            
            // 読み上げは「[Te形]、ください」
            const hiraganaTeForm = teForm.replace(/（[^）]*）/g, ''); 
            const textToSpeak = hiraganaTeForm + "、ください。"; 
            
            const ut = new SpeechSynthesisUtterance(textToSpeak);
            ut.lang = 'ja-JP';
            ut.rate = 0.9;

            const jpVoices = voices.filter(v => v.lang.includes('ja') || v.lang.includes('JP'));
            const preferredKeywords = ['Google', 'Female', 'Kyoko', 'Haruka'];
            let targetVoice = jpVoices.find(v => preferredKeywords.some(k => v.name.includes(k)));
            
            if (!targetVoice && jpVoices.length > 0) targetVoice = jpVoices[0];
            if (targetVoice) ut.voice = targetVoice;

            synth.speak(ut);
        };

        // --- リスト描画ロジック ---
        function createVerbCard(item) {
            const isRequest = item.type === 'request';
            const cardColor = isRequest ? 'var(--request-color)' : 'var(--instruction-color)';
            
            const card = document.createElement('div');
            card.className = 'verb-card';
            card.style.borderColor = cardColor;
            
            card.innerHTML = `
                <button class="sound-btn" onclick="speakPhrase('${item.te}')">
                    <i class="fa-solid fa-volume-high"></i>
                </button>
                
                <div class="verb-forms">
                    <div class="masu-box">
                        ${item.masu}
                    </div>
                    <i class="fa-solid fa-arrow-right" style="color:#999;"></i>
                    <div class="tekudasai-box">
                        ${item.te}<span style="font-size:0.7em;">ください</span>
                    </div>
                </div>
                
                <p style="font-weight:bold; color: ${cardColor}; margin: 5px 0 5px 0;">
                    <i class="fa-solid ${isRequest ? 'fa-user-group' : 'fa-hand-point-right'}"></i> 
                    ${isRequest ? 'おねがい（たのみごと）' : 'しじ・すすめ'}
                </p>

                <p class="simple-meaning">
                    <span class="english-meaning">${item.meaning}</span>
                    <br>${item.context}
                </p>
            `;
            return card;
        }

        function renderLists() {
            const requestList = document.getElementById('request-list');
            const instructionList = document.getElementById('instruction-list');

            const requests = practiceData.filter(item => item.type === 'request');
            const instructions = practiceData.filter(item => item.type === 'instruction');

            requests.forEach(item => {
                requestList.appendChild(createVerbCard(item));
            });
            
            instructions.forEach(item => {
                instructionList.appendChild(createVerbCard(item));
            });
        }

        // ページロード時に実行
        document.addEventListener('DOMContentLoaded', () => {
            renderLists();
        });
    </script>
</body>
</html>