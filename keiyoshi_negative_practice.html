<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>形容詞の否定形 (～くない / ～ではありません)</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@500;700;900&display=swap" rel="stylesheet">
<style>
    body {
        font-family: 'Zen Maru Gothic', sans-serif;
        background-color: #f3e5f5;
        color: #333;
        margin: 0; padding: 0;
    }
    header {
        background: linear-gradient(135deg, #ab47bc 0%, #7b1fa2 100%);
        color: white; padding: 15px 20px;
        display: flex; justify-content: space-between; align-items: center;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        position: sticky; top: 0; z-index: 100;
    }
    .header-right { display: flex; align-items: center; gap: 15px; }
    .auth-status { font-size: 0.9em; font-weight: bold; color: #e1bee7; }
    .home-btn {
        background: rgba(255,255,255,0.2); color: white;
        text-decoration: none; padding: 8px 16px; border-radius: 20px;
        font-weight: bold; transition: 0.3s;
    }
    .home-btn:hover { background: rgba(255,255,255,0.4); }

    .container { max-width: 1000px; margin: 30px auto; padding: 0 20px; }
    
    .title-area { text-align: center; margin-bottom: 30px; }
    .title-area h1 { color: #7b1fa2; margin: 0; font-size: 1.8em; }
    .title-area p { color: #666; font-weight: bold; }

    /* タブ切り替え */
    .tabs { display: flex; justify-content: center; margin-bottom: 30px; gap: 20px; }
    .tab-btn {
        padding: 12px 30px; font-size: 1.2em; font-weight: bold;
        border: none; border-radius: 30px; cursor: pointer;
        background: #e1bee7; color: #7b1fa2; transition: 0.3s;
        border: 3px solid transparent;
    }
    .tab-btn:hover { transform: translateY(-2px); }
    .tab-btn.active.i-adj { 
        background: #4facfe; color: white; 
        box-shadow: 0 4px 10px rgba(79, 172, 254, 0.4); 
    }
    .tab-btn.active.na-adj { 
        background: #ff9a9e; color: white; 
        box-shadow: 0 4px 10px rgba(255, 154, 158, 0.4); 
    }

    /* グリッドレイアウト */
    .card-grid {
        display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 20px;
    }

    /* カードデザイン */
    .card {
        background: white; border-radius: 20px; padding: 25px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.05); position: relative;
        border-bottom: 6px solid #ddd; transition: transform 0.2s;
        display: flex; flex-direction: column; gap: 10px;
    }
    .card:hover { transform: translateY(-5px); }
    
    .card.i-type { border-color: #4facfe; }
    .card.na-type { border-color: #ff9a9e; }
    
    .card-label {
        position: absolute; top: 10px; left: 15px; font-size: 0.8em;
        font-weight: bold; padding: 3px 8px; border-radius: 10px; color: white;
    }
    .card.i-type .card-label { background: #4facfe; }
    .card.na-type .card-label { background: #ff9a9e; }

    .audio-btn {
        position: absolute; top: 15px; right: 15px;
        background: #f0f0f0; border: none; border-radius: 50%;
        width: 40px; height: 40px; cursor: pointer; color: #666;
        transition: 0.2s; font-size: 1.2em;
    }
    .audio-btn:hover { background: #ddd; color: #7b1fa2; }

    /* 変形の表示 */
    .transform-row {
        display: flex; align-items: center; justify-content: space-around;
        background: #f8f9fa; border-radius: 15px; padding: 15px 5px;
        margin-top: 15px;
    }
    .word-group { text-align: center; width: 45%; }
    .word-main { font-size: 1.3em; font-weight: 900; color: #333; display: block; }
    .word-sub { font-size: 0.9em; color: #888; display: block; }
    .arrow-icon { color: #bbb; font-size: 1.2em; }
    
    .neg-text { color: #d32f2f; } /* 否定形の赤文字 */

    /* 例文エリア */
    .example-box {
        background: #fff; padding-top: 10px; border-top: 2px dashed #eee;
        margin-top: 5px;
    }
    .en-meaning { font-weight: bold; color: #7b1fa2; font-size: 1.1em; margin-bottom: 5px; }
    .jp-ex { font-size: 0.95em; color: #333; }
    .en-ex { font-size: 0.85em; color: #666; }

    /* ゲームへボタン */
    .go-game-area { text-align: center; margin-top: 50px; margin-bottom: 50px;}
    .go-game-btn {
        background: #7b1fa2; color: white; padding: 18px 50px; 
        font-size: 1.4em; font-weight: 900; border-radius: 50px; 
        text-decoration: none; box-shadow: 0 6px 0 #4a148c;
        display: inline-block; transition: transform 0.1s;
    }
    .go-game-btn:active { transform: translateY(4px); box-shadow: none; }

</style>
</head>
<body>

<header>
    <div style="font-size: 1.4em; font-weight: 900;">
        <i class="fa-solid fa-graduation-cap"></i> 形容詞(けいようし) ひていけい
    </div>
    <div class="header-right">
        <a href="index.html" class="home-btn"><i class="fa-solid fa-house"></i> ホーム</a>
        <div id="auth-status" class="auth-status">ゲスト</div>
    </div>
</header>

<div class="container">
    <div class="title-area">
        <h1>否定形（ひていけい）の れんしゅう</h1>
        <p>「〜くないです」 と 「〜ではありません」 をおぼえよう！</p>
    </div>

    <div class="tabs">
        <button class="tab-btn i-adj active" onclick="filterType('i')">
            <i class="fa-solid fa-cube"></i> い-形容詞
        </button>
        <button class="tab-btn na-adj" onclick="filterType('na')">
            <i class="fa-solid fa-shapes"></i> な-形容詞
        </button>
    </div>

    <div id="card-container" class="card-grid">
        </div>

    <div class="go-game-area">
        <a href="keiyoshi_negative_game.html" class="go-game-btn">
            <i class="fa-solid fa-gamepad"></i> ゲームで遊ぶ
        </a>
    </div>
</div>

<script type="module" src="js/firebase-config.js"></script>

<script>
    // 提供されたJSONデータ
    const rawData = {
      "adjectives": [
        { "kanji": "新しい", "hiragana": "あたらしい", "type": "i", "meaning": "new" },
        { "kanji": "古い", "hiragana": "ふるい", "type": "i", "meaning": "old" },
        { "kanji": "熱い", "hiragana": "あつい", "type": "i", "meaning": "hot (thing)" },
        { "kanji": "寒い", "hiragana": "さむい", "type": "i", "meaning": "cold (weather)" },
        { "kanji": "冷たい", "hiragana": "つめたい", "type": "i", "meaning": "cold (touch)" },
        { "kanji": "易しい", "hiragana": "やさしい", "type": "i", "meaning": "easy" },
        { "kanji": "難しい", "hiragana": "むずかしい", "type": "i", "meaning": "difficult" },
        { "kanji": "高い", "hiragana": "たかい", "type": "i", "meaning": "high, expensive" },
        { "kanji": "安い", "hiragana": "やすい", "type": "i", "meaning": "cheap" },
        { "kanji": "大きい", "hiragana": "おおきい", "type": "i", "meaning": "big" },
        { "kanji": "小さい", "hiragana": "ちいさい", "type": "i", "meaning": "small" },
        { "kanji": "良い", "hiragana": "よい", "type": "i", "meaning": "good" }, // 例外
        { "kanji": "悪い", "hiragana": "わるい", "type": "i", "meaning": "bad" },
        { "kanji": "忙しい", "hiragana": "いそがしい", "type": "i", "meaning": "busy" },
        { "kanji": "楽しい", "hiragana": "たのしい", "type": "i", "meaning": "fun" },
        { "kanji": "美味しい", "hiragana": "おいしい", "type": "i", "meaning": "delicious" },
        { "kanji": "甘い", "hiragana": "あまい", "type": "i", "meaning": "sweet" },
        { "kanji": "辛い", "hiragana": "からい", "type": "i", "meaning": "spicy" },
        { "kanji": "近い", "hiragana": "ちかい", "type": "i", "meaning": "near" },
        { "kanji": "遠い", "hiragana": "とおい", "type": "i", "meaning": "far" },
        { "kanji": "面白い", "hiragana": "おもしろい", "type": "i", "meaning": "interesting" },
        
        { "kanji": "暇", "hiragana": "ひまな", "type": "na", "meaning": "free (time)" },
        { "kanji": "元気", "hiragana": "げんきな", "type": "na", "meaning": "healthy" },
        { "kanji": "静か", "hiragana": "しずかな", "type": "na", "meaning": "quiet" },
        { "kanji": "賑やか", "hiragana": "にぎやかな", "type": "na", "meaning": "lively" },
        { "kanji": "有名", "hiragana": "ゆうめいな", "type": "na", "meaning": "famous" },
        { "kanji": "親切", "hiragana": "しんせつな", "type": "na", "meaning": "kind" },
        { "kanji": "便利", "hiragana": "べんりな", "type": "na", "meaning": "convenient" },
        { "kanji": "好き", "hiragana": "すきな", "type": "na", "meaning": "like" },
        { "kanji": "嫌い", "hiragana": "きらいな", "type": "na", "meaning": "dislike" },
        { "kanji": "簡単", "hiragana": "かんたんな", "type": "na", "meaning": "simple" },
        { "kanji": "きれい", "hiragana": "きれいな", "type": "na", "meaning": "clean/beautiful" }
      ]
    };

    function getExample(item, negForm) {
        if(item.type === 'i') {
            return `この___は ${negForm}。 (This ___ is not ${item.meaning}.)`;
        } else {
            return `かれは ${negForm}。 (He is not ${item.meaning}.)`;
        }
    }

    const container = document.getElementById('card-container');
    const synth = window.speechSynthesis;

    function renderCards(type) {
        container.innerHTML = '';
        const filtered = rawData.adjectives.filter(a => a.type === type);

        filtered.forEach(item => {
            let negForm = '';
            let basicForm = item.hiragana;
            
            if (item.type === 'i') {
                if (item.hiragana === 'よい') { 
                     basicForm = 'いい (よい)';
                     negForm = 'よくないです';
                } else {
                    negForm = item.hiragana.slice(0, -1) + 'くないです';
                }
            } else {
                let stem = item.hiragana;
                if(stem.endsWith('な')) stem = stem.slice(0, -1);
                negForm = stem + 'ではありません';
                basicForm = stem + ' (な)';
            }

            const card = document.createElement('div');
            card.className = `card ${item.type}-type`;
            
            card.innerHTML = `
                <div class="card-label">${item.type === 'i' ? 'い-Adj' : 'な-Adj'}</div>
                <button class="audio-btn" onclick="speak('${negForm}')"><i class="fa-solid fa-volume-high"></i></button>
                
                <div class="transform-row">
                    <div class="word-group">
                        <span class="word-main">${basicForm}</span>
                        <span class="word-sub">${item.kanji}</span>
                    </div>
                    <i class="fa-solid fa-arrow-right arrow-icon"></i>
                    <div class="word-group">
                        <span class="word-main neg-text">${negForm}</span>
                        <span class="word-sub">Negative</span>
                    </div>
                </div>

                <div class="example-box">
                    <div class="en-meaning"><i class="fa-solid fa-language"></i> ${item.meaning}</div>
                    <div class="jp-ex">${getExample(item, negForm)}</div>
                </div>
            `;
            container.appendChild(card);
        });
    }

    function filterType(type) {
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.querySelector(`.tab-btn.${type}-adj`).classList.add('active');
        renderCards(type);
    }

    function speak(text) {
        if (synth.speaking) { return; }
        const ut = new SpeechSynthesisUtterance(text);
        ut.lang = 'ja-JP';
        ut.rate = 0.9;
        synth.speak(ut);
    }

    // 初期表示
    renderCards('i');

</script>
</body>
</html>