<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>こうつう の ゲーム - FunLearnJP</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700;900&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="css/transport_game.css">
</head>
<body>

<header>
    <div class="header-left">
        <a href="index.html" class="back-btn"><i class="fa-solid fa-house"></i> ホーム</a>
        <h1 class="page-title">こうつうゲーム</h1>
    </div>
    <div class="auth-status" id="auth-status-display">...</div>
</header>

<div class="game-container">
    
    <div class="nav-area">
        <button class="nav-btn active" onclick="switchScreen('study')"><i class="fa-solid fa-book"></i> 単語</button>
        <button class="nav-btn" onclick="switchScreen('game1')"><i class="fa-solid fa-pen"></i> 文作り</button>
        <button class="nav-btn" onclick="switchScreen('game2')"><i class="fa-solid fa-location-dot"></i> 場所</button>
        <button class="nav-btn" onclick="switchScreen('game3')"><i class="fa-solid fa-bus"></i> 乗り物</button>
        <button class="nav-btn" onclick="switchScreen('game4')"><i class="fa-solid fa-star"></i> まとめ</button>
    </div>

    <div id="screen-study" class="screen active">
        <h2><i class="fa-solid fa-volume-high"></i> ことば を おぼえよう</h2>
        <p style="text-align:center; font-size:0.9em; color:#666; margin-bottom:20px;">クリックして 音をきいてね</p>

        <div class="word-section">
            <div class="section-label">🙂 ひと (People)</div>
            <div class="grid" id="grid-people"></div>
        </div>
        <div class="word-section">
            <div class="section-label">🚗 のりもの (Transports)</div>
            <div class="grid" id="grid-transport"></div>
        </div>
        <div class="word-section">
            <div class="section-label">🏫 ばしょ (Places)</div>
            <div class="grid" id="grid-place"></div>
        </div>
        <div class="word-section">
            <div class="section-label">🏃 どうさ (Verbs)</div>
            <div class="grid" id="grid-verb"></div>
        </div>
    </div>

    <div id="screen-game1" class="screen">
        <h2>Game 1: ぶん を つくろう</h2>
        <div class="question-box" id="q1-text">English Sentence</div>
        <div class="sortable-area" id="area-game1"></div>
        <div class="sortable-area" id="pool-game1" style="border: 2px solid #e0e7ff; background:white;"></div>
        <div id="feedback-game1" class="feedback-msg"></div>
        <button class="big-btn" onclick="checkGame1()">こたえあわせ</button>
    </div>

    <div id="screen-game2" class="screen">
        <h2>Game 2: どこへ いきますか？</h2>
        <div id="img-game2" class="main-image">🏫</div>
        <div class="question-box" id="q2-text">質問文</div>
        
        <div id="area-yesno-game2" class="yes-no-area">
            <button id="g2-yes" class="choice-btn btn-yes" onclick="answerGame2(true)">はい</button>
            <button id="g2-no" class="choice-btn btn-no" onclick="answerGame2(false)">いいえ</button>
        </div>
        
        <div id="area-fix-game2" class="fix-area" style="display:none;">
            <p style="text-align:center; font-weight:bold; color:#ef5350;">ただしい ばしょ は どっち？</p>
            <div class="options-grid" id="opts-game2"></div>
        </div>
        <div id="feedback-game2" class="feedback-msg"></div>
    </div>

    <div id="screen-game3" class="screen">
        <h2>Game 3: どうやって いきますか？</h2>
        <div id="img-game3" class="main-image">🚌</div>
        <div class="question-box" id="q3-text">質問文</div>
        
        <div id="area-yesno-game3" class="yes-no-area">
            <button id="g3-yes" class="choice-btn btn-yes" onclick="answerGame3(true)">はい</button>
            <button id="g3-no" class="choice-btn btn-no" onclick="answerGame3(false)">いいえ</button>
        </div>
        
        <div id="area-fix-game3" class="fix-area" style="display:none;">
            <p style="text-align:center; font-weight:bold; color:#ef5350;">どうやって いきますか？</p>
            <div class="options-grid" id="opts-game3"></div>
        </div>
        <div id="feedback-game3" class="feedback-msg"></div>
    </div>

    <div id="screen-game4" class="screen">
        <h2>Game 4: ぜんぶ いえるかな？</h2>
        <p style="text-align:center; font-size:0.9em; color:#666;">(だれが → どうやって → どこへ → どうする)</p>
        <div class="question-box" id="q4-text">English</div>
        <div class="sortable-area" id="area-game4"></div>
        <div class="sortable-area" id="pool-game4" style="border: 2px solid #e0e7ff; background:white;"></div>
        <div id="feedback-game4" class="feedback-msg"></div>
        <button class="big-btn" onclick="checkGame4()">こたえあわせ</button>
    </div>

</div>

<script type="module" src="js/firebase-config.js"></script>

<script src="js/transport_game.js"></script>
</body>
</html>