<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>助数詞マスター - FunLearnJP</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700;900&display=swap" rel="stylesheet">

<link rel="stylesheet" href="css/counters_game.css">
</head>
<body>

<header>
    <a href="#" onclick="goHome()" class="logo"><i class="fa-solid fa-shapes"></i> 助数詞マスター</a>
    <a href="index.html" class="home-link"><i class="fa-solid fa-house"></i> ホーム</a>
</header>

<div class="container">

    <div id="screen-practice" class="screen active">
        <h2><i class="fa-solid fa-book-open"></i> 助数詞リスト (Practice)</h2>
        <div id="practice-list"></div>
        <button class="start-game-btn" onclick="showScreen('screen-menu')">
            <i class="fa-solid fa-gamepad"></i> ゲームに挑戦！
        </button>
    </div>

    <div id="screen-menu" class="screen">
        <button class="btn-back" onclick="goHome()"><i class="fa-solid fa-arrow-left"></i> 練習にもどる</button>
        <h2><i class="fa-solid fa-gamepad"></i> ゲームを選んでね</h2>
        <div class="menu-grid">
            <div class="menu-card" onclick="startLevel1()">
                <span class="level-badge">Lv.1</span>
                <div class="menu-icon"><i class="fa-solid fa-right-left"></i></div>
                <div class="menu-title">どっち？</div>
                <div style="font-size:0.8em; color:#888;">2択クイズ</div>
            </div>
            <div class="menu-card" onclick="startLevel2()">
                <span class="level-badge">Lv.2</span>
                <div class="menu-icon"><i class="fa-solid fa-microphone"></i></div>
                <div class="menu-title">いってみよう</div>
                <div style="font-size:0.8em; color:#888;">数えてみよう</div>
            </div>
            <div class="menu-card" onclick="startLevel3()">
                <span class="level-badge">Lv.3</span>
                <div class="menu-icon"><i class="fa-solid fa-boxes-packing"></i></div>
                <div class="menu-title">しわけ</div>
                <div style="font-size:0.8em; color:#888;">仲間分け</div>
            </div>
        </div>
    </div>

    <div id="screen-level1" class="screen">
        <button class="btn-back" onclick="showScreen('screen-menu')"><i class="fa-solid fa-arrow-left"></i> メニュー</button>
        <h2><i class="fa-solid fa-right-left"></i> どっちの助数詞？</h2>
        <div class="lvl1-container">
            <div style="font-size:1.2em;">これの数え方は？</div>
            <div id="l1-emoji" class="quiz-image"></div>
            <div id="l1-word" class="quiz-word"></div>
            <div class="choice-area">
                <button id="l1-btn-left" class="choice-btn" onclick="checkLevel1(0)"></button>
                <button id="l1-btn-right" class="choice-btn" onclick="checkLevel1(1)"></button>
            </div>
            <div id="l1-score" style="margin-top:20px; font-weight:bold; color:var(--primary);">正解数: 0</div>
        </div>
    </div>

    <div id="screen-level2" class="screen">
        <button class="btn-back" onclick="showScreen('screen-menu')"><i class="fa-solid fa-arrow-left"></i> メニュー</button>
        <h2><i class="fa-solid fa-microphone"></i> 数えてみよう！</h2>
        <div class="mic-container">
            <div id="l2-display" class="quiz-question-box">
                <span id="l2-emoji"></span> <span style="font-size:0.6em; vertical-align:middle;">x</span> <span id="l2-num"></span>
            </div>
            <div id="l2-word" class="quiz-word"></div>
            
            <div style="font-weight:bold; font-size:1.2em; color:var(--primary);">声に出して数えてね！</div>
            <div class="hint-text">例: さんぼん、ごひき...</div>
            
            <button id="mic-btn" class="mic-btn" onclick="toggleRecording()">
                <i class="fa-solid fa-microphone"></i>
            </button>
            <div id="mic-status" style="height:30px; font-weight:bold;">マイクを押して話してね</div>
        </div>
    </div>

    <div id="screen-level3" class="screen">
        <button class="btn-back" onclick="showScreen('screen-menu')"><i class="fa-solid fa-arrow-left"></i> メニュー</button>
        <h2><i class="fa-solid fa-boxes-packing"></i> 正しい箱に入れよう</h2>
        <div style="text-align:center; margin-bottom:10px; font-size:0.9em;">
            1. 下のイラストをタッチ<br>2. 正しい助数詞の箱をタッチ
        </div>
        <div id="l3-boxes" class="lvl3-header"></div>
        <div id="l3-items" class="item-pool"></div>
        <div id="l3-msg" style="text-align:center; margin-top:10px; font-weight:bold; color:var(--primary);"></div>
    </div>

</div>

<div id="feedback" class="feedback-overlay">
    <i id="fb-icon" class="fa-regular fa-circle-check feedback-icon"></i>
</div>

<script src="js/counters_game.js"></script>
</body>
</html>